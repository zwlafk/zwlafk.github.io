<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="科幻,刘慈欣,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="资本主义是什么？这是我从第一次听到这个名词开始就有的疑问，但是也从来没有认真探究过，直到近日读了大刘的《赡养人类》，彷佛明白了点什么。文中描述了在未来科技高度发展的情况下，人类财富的分配情况。">
<meta name="keywords" content="科幻,刘慈欣">
<meta property="og:type" content="article">
<meta property="og:title" content="读 《 赡养人类 》">
<meta property="og:url" content="https://zwlafk.github.io/2017/10/24/read book-syrl/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="资本主义是什么？这是我从第一次听到这个名词开始就有的疑问，但是也从来没有认真探究过，直到近日读了大刘的《赡养人类》，彷佛明白了点什么。文中描述了在未来科技高度发展的情况下，人类财富的分配情况。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-04-28T10:26:01.520Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="读 《 赡养人类 》">
<meta name="twitter:description" content="资本主义是什么？这是我从第一次听到这个名词开始就有的疑问，但是也从来没有认真探究过，直到近日读了大刘的《赡养人类》，彷佛明白了点什么。文中描述了在未来科技高度发展的情况下，人类财富的分配情况。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.2',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'NX138MH7QL',
      apiKey: '945f4cf08d7d451ed38143e208ea5784',
      indexName: 'blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"搜索关键字","hits_empty":"啊偶，没有找到 ${query}","hits_stats":"找到了 ${hits} 条结果，耗时 ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zwlafk.github.io/2017/10/24/read book-syrl/">





  <title>读 《 赡养人类 》 | Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/zwl/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zwlafk.github.io/2017/10/24/read book-syrl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwlafk">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/me.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">读 《 赡养人类 》</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-24T09:22:08+08:00">
                2017-10-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书/" itemprop="url" rel="index">
                    <span itemprop="name">读书</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>资本主义是什么？这是我从第一次听到这个名词开始就有的疑问，但是也从来没有认真探究过，直到近日读了大刘的《赡养人类》，彷佛明白了点什么。文中描述了在未来科技高度发展的情况下，人类财富的分配情况。<br><a id="more"></a></p>
<p>由于原文实在精彩，本人又不擅言辞，在此放下一段原文。<br>这是来自两个文明的人类对话：</p>
<blockquote>
<p>“两个人类文明十分相似，你们走过的路我们都走过，我们也有过你们现在的<br>时代：社会财富的分配虽然不匀，但维持着某种平衡，穷人和富人都不是太多，人<br>们普遍相信，随着社会的进步，贫富差距将进一步减小，他们憧憬着人人均富的大<br>同时代。但人们很快会发现事情要复杂得多，这种平衡很快就要被打破了。”<br>“被什么东西打破的?”<br>“教育。你也知道，在你们目前的时代，教育是社会下层进入上层的惟一途<br>径，如果社会是一个按温度和含盐度分成许多水层的海洋，教育就像一根连通管，<br>将海底水层和海面水层连接起来，使各个水层之间不至于完全隔绝。”<br>“你接下来可能想说，穷人越来越上不起大学了。”<br>“是的，高等教育费用日益昂贵，渐渐成了精英子女的特权。但就传统教育而<br>言，即使仅仅是为了市场的考虑，它的价格还是有一定限度的，所以那条连通管虽<br>然已经细若游丝，但还是存在着。可有一天，教育突然发生了根本的变化，一个技<br>术飞跃出现了。 ”<br>“是不是可以直接向大脑里灌知识了?”<br>“是的，但知识的直接注入只是其中的一部分。<br>大脑中将被植入一台超级计算机，它的容量远大于人脑本身，它存贮的知识可<br>变为植入者的清晰记忆。但这只是它的一个次要功能，它是一个智力放大器，一个<br>思想放大器，可将人的思维提升到一个新的层次。<br>这时，知识、智力、深刻的思想，甚至完美的心理和性格、艺术审美能力等<br>等，都成了商品，都可以买得到”<br>“一定很贵。”<br>“是的，很贵，将你们目前的货币价值做个对比，一个人接受超等教育的费<br>用，与在北京或上海的黄金地段买两到三套一百五十平米的商品房相当。”<br>“要是这样，还是有一部分人能支付得起的。”<br>“是的，但只是一小部分有产阶层，社会海洋中那条连通上下层的管道彻底中<br>断了。完成超等教育的人的智力比普通人高出一个层次，他们与未接受超等教育的<br>人之间的智力差异，就像后者与狗之间的差异一样大。同样的差异还表现在许多其<br>他方面，比如艺术感受能力等。于是，这些超级知识阶层就形成了自己的文化，而<br>其余的人对这种文化完全不可理解，就像狗不理解交响乐一样。超级知识分子可能<br>都精通上百种语言，在某种场合，对某个人，都要按礼节使用相应的语言。在这种<br>情况下，在超级知识阶层看来，他们与普通民众的交流，就像我们与狗的交流一样<br>简陋了……于是，一件事就自然而然地发生了，你是个聪明人，应该能想到。”<br><!--more--></p>
<p>“富人和穷人已经不是同一个……同一个……”<br>“富人和穷人已经不是同一个物种了，就像穷人和狗不是同一个物种一样，穷<br>人不再是人了。”<br>“哦，那事情可真的变了很多。”<br>“变了很多，首先，你开始提到的那个维持社会财富平衡、限制穷人数量的因<br>素不存在了。即使狗的数量远多于人，他们也无力制造社会不稳定，只能制造一些<br>需要费神去解决的麻烦。随便杀狗是要受惩罚的，但与杀人毕竟不一样，特别是当<br>狂犬病危及到人的安全时，把狗杀光也是可以的。对穷人的同情，关键在于一个同<br>字，当双方相同的物种基础不存在时，同情也就不存在了。这是人类的第二次进<br>化，第一次与猿分开来，靠的是自然选择；这一次与穷人分开来，靠的是另一条同<br>样神圣的法则：私有财产不可侵犯。” </p>
<p>“这法则在我们的世界也很神圣的。”<br>“在第一地球的世界里，这项法则由一个叫社会机器的系统维持。社会机器是<br>一种强有力的执法系统，它的执法单元遍布世界的每一个角落，有的执法单元只有<br>蚊子大小，但足以在瞬间同时击毙上百人。它们的法则不是你们那个阿西莫夫的三<br>定律，而是第一地球的宪法基本原则：私有财产不可侵犯。它们带来的并不是专<br>制，它们的执法是绝对公正的，并非倾向于有产阶层，如果穷人那点儿可怜的财产<br>受到威胁，他们也会根据宪法去保护的。 </p>
<p>“在社会机器强有力的保护下，第一地球的财富不断地向少数人集中。而技术<br>发展导致了另一件事，有产阶层不再需要无产阶层了。在你们的世界，富人还是需<br>要穷人的，工厂里总得有工人。但在第一地球，机器已经不需要人来操作了，高效<br>率的机器人可以做一切事情，无产阶层连出卖劳动力的机会都没有了，他们真的一<br>贫如洗。这种情况的出现，完全改变了第一地球的经济实质，大大加快了社会财富<br>向少数人集中的速度。 </p>
<p>“财富集中的过程十分复杂，我向你说不清楚，但其实质与你们世界的资本运<br>作是相同的。在我曾祖父的时代，第一地球60％的财富掌握在一千万人手中；在爷<br>爷的时代，世界财富的80％掌握在一万人手中；在爸爸的时代，财富的90％掌握在<br>四十二人手中。<br>“在我出生时，第一地球的资本主义达到了顶峰上的顶峰，创造了令人难以置<br>信的资本奇迹；99％的世界财富掌握在一个人的手中！这个人被称做终产者。<br>“这个世界的其余二十多亿人虽然也有贫富差距，但他们总体拥有的财富只是<br>世界财富总量的l％，也就是说，第一地球变成了由一个富人和二十亿个穷人组成<br>的世界，穷人是二十亿，不是我刚才告诉你的十亿，而富人只有一个。这时，私有<br>财产不可侵犯的宪法仍然有效，社会机器仍在忠实地履行着它的职责，保护着那一<br>个富人的私有财产。 </p>
<p>“想知道终产者拥有什么吗?他拥有整个第一地球！这个行星上所有的大陆和海<br>洋都是他家的客厅和庭院，甚至第一地球的大气层都是他私人的财产。<br>“剩下的二十亿穷人，他们的家庭都住在全封闭的住宅中，这些住宅本身就是<br>一个自给自足的微型生态循环系统，他们用自己拥有的那可怜的一点点水、空气和<br>土壤等资源在这全封闭的小世界中生活着，能从外界索取的，只有不属于终产者的<br>太阳能了。<br>“我的家坐落在一条小河边，周围是绿色的草地，一直延伸到河沿，再延伸到<br>河对岸翠绿的群山脚下，在家里就能听到群鸟呜叫和鱼儿跃出水面的声音，能看到<br>悠然的鹿群在河边饮水，特别是草地在和风中的波纹最让我陶醉。但这一切不属于<br>我们，我们的家与外界严格隔绝，我们的窗是密封舷窗，永远都不能开的。要想外<br>出，必须经过一段过渡舱，就像从飞船进入太空一样，事实上，我们的家就像一艘<br>宇宙飞船，不同的是，恶劣的环境不是在外面而是在里面！我们只能呼吸家庭生态<br>循环系统提供的污浊的空气，喝经千万次循环过滤的水，吃以我们的排泄物为原料<br>合成再生的难以下咽的食物。而与我们仅一墙之隔，就是广阔而富饶的大自然，我<br>们外出时，穿着像一名宇航员，食物和水要自带，甚至自带氧气瓶，因为外面的空<br>气不属于我们，是终产者的财产。 </p>
<p>“当然，有时也可以奢侈一下，比如在婚礼或节日什么的，这时我们走出自己<br>全封闭的家，来到第一地球的大自然中，最令人陶醉的是呼吸第一口大自然的空气<br>时，那空气是微甜的，甜得让你流泪。但这是要花钱的，外出之前我们都得吞下一<br>粒药丸大小的空气售货机，这种装置能够监测和统计我们吸入空气的量，我们每呼<br>吸一次，银行账户上的钱就被扣除一点。对于穷人，这真的是一种奢侈，每年也只<br>能有一两次。我们来到外面时，也不敢剧烈活动，甚至不动只是坐着，以控制自己<br>的呼吸量。回家前还要仔细地刮刮鞋底，因为外面的土壤也不属于我们。 </p>
<p>“现在告诉你我母亲是怎么死的。为了节省开支，她那时已经有三年没有到户<br>外去过一次了，节日也舍不得出去。这天深夜，她竟在梦游中通过过渡门到了户<br>外！她当时做的一定是一个置身于大自然中的梦。当执法单元发现她时，她已经离<br>家有很远的距离了，执法单元也发现了她没有吞下空气售货机，就把她朝家里拖，<br>同时用一只机械手卡住她的脖子，它并没想掐死她，只是不让她呼吸，以保护另一<br>个公民不可侵犯的私有财产——空气。但到家时她已经被掐死了，执法单元放下她的<br>尸体对我们说：她犯了盗窃罪。我们要被罚款，但我们已经没有钱了，于是母亲的<br>遗体就被没收抵账。要知道，对一个穷人家庭来说，一个人的遗体是很宝贵的，占<br>它重量70％的是水啊，还有其他有用的资源。但遗体的价值还不够交纳罚款，社会<br>机器便从我们家抽走了相当数量的空气。 </p>
<p>“我们家生态循环系统中的空气本来已经严重不足，一直没钱补充，在被抽走<br>一部分后，已经威胁到了内部成员的生存。为了补充失去的空气，生态系统不得不<br>电解一部分水，这个操作使得整个系统的状况急剧恶化。主控电脑发出了警报：如<br>果我们不向系统中及时补充十五升水的话，系统将在三十小时后崩溃。警报灯的红<br>色光芒迷漫在每个房间。我们曾打算到外面的河里偷些水，但旋即放弃了，因为我<br>们打到水后还来不及走回家，就会被无所不在的执法单元击毙。父亲沉思了一会<br>儿，让我不要担心，先睡觉。虽然处于巨大的恐惧中，但在缺氧的状态下，我还是<br>睡着了。不知过了多长时间，一个机器人推醒了我，它是从与我家对接的一辆资源<br>转换车上进来的，它指着旁边一桶清澈晶莹的水说：这就是你父亲。资源转换车是<br>一种将人体转换成能为家庭生态循环系统所用资源的流动装置，父亲就是在那里将<br>自己体内的水全部提取出来，而这时，就在离我家不到一百米处，那条美丽的河在<br>月光下哗哗地流着。资源转换车从他的身体还提取了其他一些对生态循环系统有用<br>的东西：一盒有机油脂、一瓶钙片，甚至还有硬币那么大的一小片铁。 </p>
<p>“父亲的水拯救了我家的生态循环系统，我一个人活了下来，一天天长大，五<br>年过去了。在一个秋天的黄昏，我从舷窗望出去，突然发现河边有一个人在跑步，<br>我惊奇是谁这么奢侈，竟舍得在户外这样呼吸?！仔细一看，天啊，竟是终产者！<br>他慢下来，放松地散着步，然后坐在河边的一块石头上，将一只赤脚伸进清澈的河<br>水里。他看上去是一个健壮的中年男人，但实际已经两千多岁了，基因工程技术还<br>可以保证他再活这么长时间，甚至永远活下去。不过在我看来，他真的是一个很普<br>通的人。 </p>
<p>“又过了两年，我家的生态循环系统的运行状况再次恶化，这样小规模的生态<br>系统，它的寿命肯定是有限的。终于，它完全崩溃了。空气中的含氧量在不断减<br>少，在缺氧昏迷之前，我吞下了一枚空气售货机，走出了家门。像每一个家庭生态<br>循环系统崩溃的人一样，我坦然地面对着自己的命运：呼吸完我在银行那可怜的存<br>款，然后被执法机器掐死或击毙。 </p>
<p>“这时我发现外面的人很多，家庭生态循环系统开始大批量地崩溃了。一个巨<br>大的执法机器悬浮在我们上空，播放着最后的警告：公民们，你们闯入了别人的家<br>里，你们犯了私闯民宅罪，请尽快离开！不然……离开?我们能到哪里去?自己的家中<br>已经没有可供呼吸的空气了。<br>“我与其他人一起，在河边碧绿的草地上尽情地奔跑，让清甜的春风吹过我们<br>苍白的面庞，让生命疯狂地燃烧……<br>“不知过了多长时间，我们突然发现自己银行里的存款早就呼吸完了，但执法<br>单元们并没有采取行动。这时，从悬浮在空中的那个巨型执法单元中传出了终产者<br>的声音。<br>“‘各位好，欢迎光临寒舍！有这么多的客人我很高兴，也希望你们在我的院子<br>里玩得愉快，但还是请大家体谅我，你们来的人实在是太多了。现在。全球已有近<br>十亿人因生态循环系统崩溃而走出了自己的家，来到我家，另外那十多亿可能也快<br>来了，你们是擅自闯入，侵犯了我这个公民的居住权和隐私权，社会机器采取行动<br>终止你们的生命是完全合理合法的，如果不是我劝止了它们那么做，你们早就全部<br>被激光蒸发了。但我确实劝止了他们，我是个受过多次超等教育的有教养的人，对<br>家里的客人，哪怕是违法闯入者，都是讲礼貌的。但请你们设身处地地为我想想，<br>家里来了二十亿客人，毕竟是稍微多了些，我是个喜欢安静和独处的人，所以还是<br>请你们离开寒舍。我当然知道大家在地球上无处可去，但我为你们，为二十亿人准<br>备了两万艘巨型宇宙飞船，每艘都有一座中等城市大小，能以光速的百分之一航<br>行。上面虽没有完善的生态循环系统，但有足够容纳所有人的生命冷藏舱，足够支<br>持五万年。我们的星系中只有地球这一颗行星，所以你们只好在恒星际间寻找自己<br>新的家园，但相信一定能找到的。宇宙之大，何必非要挤在我这间小小的陋室中<br>呢?你们没有理由恨我，得到这幢住所，我是完全合理合法的，我从一个经营妇女<br>卫生用品的小公司起家，一直做到今天的规模，完全是凭借自己的商业才能，没有<br>做过任何违法的事，所以，社会机器在以前保护了我，以后也会继续保护我，保护<br>我这个守法公民的私有财产，它不会容忍你们的违法行径，所以，还是请大家尽快<br>动身吧，看在同一进化渊源的份上，我会记住你们的，也希望你们记住我,保重<br>吧。’“我们就是这样来到了第四地球，航程延续了三万年，在漫长的星际流浪中，<br>损失了近一半的飞船，有的淹没于星际尘埃中，有的被黑洞吞食，……但，总算有一<br>万艘飞船，十亿人到达了这个世界。好了，这就是第一地球的故事，二十亿个穷人<br>和一个富人的故事。” </p>
</blockquote>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    zwlafk
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://zwlafk.github.io/2017/10/24/read book-syrl/" title="读 《 赡养人类 》">https://zwlafk.github.io/2017/10/24/read book-syrl/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/科幻/" rel="tag"># 科幻</a>
          
            <a href="/tags/刘慈欣/" rel="tag"># 刘慈欣</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/21/skip-render/" rel="next" title="跳过hexo渲染创建自定义页面">
                <i class="fa fa-chevron-left"></i> 跳过hexo渲染创建自定义页面
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/25/30-seconds-of-code-learning/" rel="prev" title="js“30秒代码”学习整理">
                js“30秒代码”学习整理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image" src="/images/me.jpeg" alt="zwlafk">
          
            <p class="site-author-name" itemprop="name">zwlafk</p>
            <p class="site-description motion-element" itemprop="description">前端</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zwlafk" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/your-user-name" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>微博</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zwlafk</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
